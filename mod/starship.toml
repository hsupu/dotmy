# https://starship.rs/config/
# https://starship.rs/advanced-config/#style-strings

# æç¤ºç¬¦å‰è¡¥å……ä¸€æ–°è¡Œ
add_newline = true

# æ‰«æå½“å‰ç›®å½•å‰çš„è¶…æ—¶æ—¶é—´ in ms
scan_timeout = 100
# starship å‘½ä»¤çš„è¶…æ—¶æ—¶é—´ in ms
command_timeout = 2_000

format = """
$shlvl\
$shell\
$username\
$hostname\
$localip\
$directory\
\
$git_branch\
$git_commit\
$git_state\
$git_metrics\
$git_status\
$hg_branch\
\
$time\
$memory_usage\
$battery\
$status\
$cmd_duration\
$jobs\
$env_var\
\
$line_break\
$sudo\
$character\
"""

# $aws\
# $azure\
# $buf\
# $cmake\
# $cobol\
# $conda\
# $container\
# $crystal\
# $dart\
# $deno\
# $docker_context\
# $dotnet\
# $elixir\
# $elm\
# $erlang\
# $gcloud\
# $golang\
# $haskell\
# $helm\
# $java\
# $julia\
# $kotlin\
# $kubernetes\
# $lua\
# $nim\
# $nix_shell\
# $nodejs\
# $ocaml\
# $openstack\
# $package\
# $perl\
# $php\
# $pulumi\
# $purescript\
# $python\
# $red\
# $rlang\
# $ruby\
# $rust\
# $scala\
# $singularity\
# $swift\
# $terraform\
# $vagrant\
# $vcsh\
# $vlang\
# $zig\
#
# $custom\

[battery]
format = "[$symbol$percentage]($style) "

[[battery.display]]
threshold = 20
style = "bold red"

[character]
# å‘½ä»¤æç¤ºç¬¦å­—æ ·
# â¯ âœ
# success_symbol = "[âœ](bold green)"
# error_symbol = "[âœ](bold red)"

[cmd_duration]
format = "last [$duration]($style) "
style = "yellow"

min_time = 2_000
# show_milliseconds = true

show_notifications = true
# in ms
min_time_to_notify = 300_000

[directory]
format = "in [$path]($style)[$read_only]($read_only_style) "
# false æ˜¯æŒ‡æ€»æ˜¯ä½¿ç”¨è·¯å¾„åˆ†éš”ç¬¦ "/"
use_os_path_sep = false
home_symbol = '$HOME'

# truncation_length = 1152921504606846975 # 2^63 - 1
truncate_to_repo = false
truncation_symbol = "â€¦/"

repo_root_style = "bold yellow"
repo_root_format = "in [$repo_root]($repo_root_style)[$path]($style)[$read_only]($read_only_style) "

# [env_var.SHELL]
# variable = "SHELL"
# default = "unknown shell"

# [env_var.USER]
# default = "unknown user"

[git_branch]
format = "on [$symbol$branch]($style) "
ignore_branches = ["main", "master"]

[git_commit]
format = '[\($hash\)]($style)$tag '
# style = "bright-red"
style = "green"
commit_hash_length = 8
only_detached = false
# tag_disabled = false
# tag_symbol = " ğŸ“Œ "
tag_symbol = " #"

[git_state]
format = '\([$state( $progress_current/$progress_total)]($style)\) '
am = "am"
am_or_rebase = "am/rebase"
bisect = "bisect"
cherry_pick = "ğŸ’"
merge = "merge"
rebase = "rebase"
revert = "revert"

[git_metrics]
format = '([+$added]($added_style) )([-$deleted]($deleted_style) )'
# disabled = false

[git_status]
format = '([\[$all_status$ahead_behind\]]($style) )'
disabled = true
# WSL è®¿é—® Windows è·¯å¾„çš„æ•ˆç‡ä¸é«˜ï¼Œæ­¤é¡¹ä½¿è¿è¡Œåœ¨ WSL ä¸­é‡åˆ°è¿™ç§æƒ…å½¢æ—¶è½¬è€Œä½¿ç”¨ exe ç‰ˆæœ¬ï¼ˆéœ€è¦æŒ‡å®šè·¯å¾„ï¼‰
# windows_starship = ""

[hostname]
format = "on [$hostname]($style) "
# ssh_only = false

[jobs]
format = "[bg=$number]($style) "
style = "bright-black"
# symbol_threshold = 1152921504606846975
# symbol = ""
number_threshold = 1

[localip]
format = "IP=[$localipv4]($style) "
style = "red"
# disabled = false
ssh_only = false

[memory_usage]
format = 'via $symbol[$ram]($style) '
# disabled = false
threshold = 0

[shell]
format = "[$indicator]($style) "
# disabled = false

[shlvl]
# çº¦å®šä½¿ç”¨ $env:SHLVL è®°å½• shell æ·±åº¦
format = "L$shlvl "
disabled = false
threshold = 2

[status]
format = '[\[$symbol$status\]]($style) '
disabled = false
map_symbol = true
symbol = "ğŸ”´"
# é»˜è®¤ç•™ç©ºï¼ŒåŒæ—¶ä¸æ˜¾ç¤º exitcode 0
# success_symbol = "ğŸŸ¢OK"
# recognize_signal_code = false
# å½“æ•è·åˆ°ä¿¡å·æ—¶
# signal_symbol = "â›”"
sigint_symbol = "â˜®"

[sudo]
format = "[as $symbol]($style)"
# diabled = true
symbol = "â™¾ï¸"
# allow_windows = true

[time]
format = "at [$time]($style) "
disabled = false
style = "bright-blue"

[username]
format = "[$user]($style) "
# false æ˜¯æŒ‡ï¼Œå½“ rootã€éå½“å‰ç”¨æˆ·ã€å¤„äº SSH ä¼šè¯æ—¶æ˜¾ç¤º
# show_always = true

# https://starship.rs/config/#custom-commands
[custom.foo]
command = "echo foo" # shows output of command
files = ["foo"] # can specify filters but wildcards are not supported
when = """ test "$HOME" == "$PWD" """
format = " transcending [$output]($style)"
